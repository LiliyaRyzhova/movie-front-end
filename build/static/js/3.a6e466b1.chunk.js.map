{"version":3,"sources":["utils/utils.js","components/MoviesCard/MoviesCard.js"],"names":["convertMinutes","duration","hours","Math","floor","minutes","toString","padStart","MoviesCard","props","console","log","currentUser","React","useContext","CurrentUserContext","isLiked","isSavedMovies","likedMovies","movie","location","useLocation","handleLike","onAddMovie","country","director","year","description","image","movieListUrl","url","trailer","trailerLink","thumbnail","formats","movieId","id","nameRU","nameEN","isSaved","handleDelete","onDelete","pathname","className","owner","_id","href","target","rel","alt","src","type","onClick"],"mappings":"qNACO,SAASA,EAAeC,GAC9B,IAAMC,EAAQC,KAAKC,MAAMH,EAAW,IAC9BI,EAAUF,KAAKC,MAAMH,GAAoB,GAARC,EAEvC,MADc,UAAMA,EAAMI,WAAZ,kBAA2BD,EAAQC,WAAWC,SAAS,EAAG,KAA1D,U,mBC2EAC,UAxEf,SAAoBC,GACnBC,QAAQC,IAAIF,GAEZ,IAAMG,EAAcC,IAAMC,WAAWC,KAE/BC,GAAWP,EAAMQ,eAAiBR,EAAMS,YAAYT,EAAMU,OAC1DC,EAAWC,cAMjB,SAASC,IACRb,EAAMc,WAAW,CAChBC,QAASf,EAAMU,MAAMK,QACrBC,SAAUhB,EAAMU,MAAMM,SACtBxB,SAAUQ,EAAMU,MAAMlB,SACtByB,KAAMjB,EAAMU,MAAMO,KAClBC,YAAalB,EAAMU,MAAMQ,YACzBC,MAAM,GAAD,OAAKC,KAAL,OAAoBpB,EAAMU,MAAMS,MAAQnB,EAAMU,MAAMS,MAAME,IAAM,IACrEC,QAAStB,EAAMU,MAAMa,YACrBC,UAAU,GAAD,OAAKJ,KAAL,OAAoBpB,EAAMU,MAAMS,MAAMM,QAAQD,UACnDxB,EAAMU,MAAMS,MAAMM,QAAQD,UAAUH,IACpC,IAEJK,QAAS1B,EAAMU,MAAMiB,GACrBC,OAAQ5B,EAAMU,MAAMkB,OACpBC,OAAQ7B,EAAMU,MAAMmB,OACpBC,QAAS9B,EAAMU,MAAMoB,UASvB,SAASC,IACR/B,EAAMgC,SAAShC,EAAMU,OAItB,OACC,qCACwB,kBAAtBC,EAASsB,UAAiC,0BAASC,UAAS,eAAUlC,EAAMmC,QAAUhC,EAAYiC,IAAM,GAAK,aAAnE,UAC1C,oBAAGF,UAAU,YAAYG,KAAMrC,EAAMuB,YAAae,OAAO,SAASC,IAAI,sBAAtE,UACwB,YAAtB5B,EAASsB,UAA2B,qBAAKC,UAAU,mBAAmBM,IAAI,gEAAcC,IAAG,UAAKrB,KAAL,OAAoBpB,EAAMmB,MAAME,OACrG,kBAAtBV,EAASsB,UAAiC,qBAAKC,UAAU,mBAAmBM,IAAI,gEAAcC,IAAKzC,EAAMmB,WAE3G,sBAAKe,UAAU,aAAf,UACC,mBAAGA,UAAU,aAAb,SAA2BlC,EAAM4B,SACV,YAAtBjB,EAASsB,UAA2B,wBAAQC,UAAS,0DAAqDlC,EAAMO,SAAWA,EAAU,UAAY,IAAMmC,KAAK,SAAS,aAAW,wFAAkBC,QAAS9B,IACrL,kBAAtBF,EAASsB,UAAiC,wBAAQC,UAAU,mCAAmCQ,KAAK,SAAS,aAAW,wFAAkBC,QAASZ,OAErJ,mBAAGG,UAAU,sBAAb,SAAoC3C,EAAeS,EAAMR,eAEnC,YAAtBmB,EAASsB,UAA2B,0BAASC,UAAU,OAAnB,UACpC,oBAAGA,UAAU,YAAYG,KAAMrC,EAAMuB,YAAae,OAAO,SAASC,IAAI,sBAAtE,UACwB,YAAtB5B,EAASsB,UAA2B,qBAAKC,UAAU,mBAAmBM,IAAI,gEAAcC,IAAG,UAAKrB,KAAL,OAAoBpB,EAAMmB,MAAME,OACrG,kBAAtBV,EAASsB,UAAiC,qBAAKC,UAAU,mBAAmBM,IAAI,gEAAcC,IAAKzC,EAAMmB,WAE3G,sBAAKe,UAAU,aAAf,UACC,mBAAGA,UAAU,aAAb,SAA2BlC,EAAM4B,SACV,YAAtBjB,EAASsB,UAA2B,wBAAQC,UAAS,0DAAqDlC,EAAMO,SAAWA,EAAU,UAAY,IAAMmC,KAAK,SAAS,aAAW,wFAAkBC,QAAS9B,IACrL,kBAAtBF,EAASsB,UAAiC,wBAAQC,UAAU,mCAAmCQ,KAAK,SAAS,aAAW,wFAAkBC,QAASZ,OAErJ,mBAAGG,UAAU,sBAAb,SAAoC3C,EAAeS,EAAMR","file":"static/js/3.a6e466b1.chunk.js","sourcesContent":["\r\nexport function convertMinutes(duration) {\r\n\tconst hours = Math.floor(duration / 60);\r\n\tconst minutes = Math.floor(duration) - hours * 60;\r\n\tconst formated = `${hours.toString()}ч ${minutes.toString().padStart(2, '0')}м`;\r\n\treturn formated;\r\n}","import React from 'react';\r\nimport './MoviesCard.css';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { movieListUrl } from '../../utils/consts';\r\nimport { convertMinutes } from '../../utils/utils';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nfunction MoviesCard(props) {\r\n\tconsole.log(props)\r\n\t// const [isLiked, setIsLiked]=React.useState(!props.isSavedMovies && props.likedMovies(props.movie))\r\n\tconst currentUser = React.useContext(CurrentUserContext)\r\n\r\n\tconst isLiked = !props.isSavedMovies && props.likedMovies(props.movie);\r\n\tconst location = useLocation();\r\n\r\n\t// React.useEffect(()=> {\r\n\t// \tsetIsLiked(!props.isSavedMovies && props.likedMovies(props.movie))\r\n\t// })\r\n\r\n\tfunction handleLike() {\r\n\t\tprops.onAddMovie({\r\n\t\t\tcountry: props.movie.country,\r\n\t\t\tdirector: props.movie.director,\r\n\t\t\tduration: props.movie.duration,\r\n\t\t\tyear: props.movie.year,\r\n\t\t\tdescription: props.movie.description,\r\n\t\t\timage: `${movieListUrl}${props.movie.image ? props.movie.image.url : \"\"}`,\r\n\t\t\ttrailer: props.movie.trailerLink,\r\n\t\t\tthumbnail: `${movieListUrl}${props.movie.image.formats.thumbnail\r\n\t\t\t\t\t? props.movie.image.formats.thumbnail.url\r\n\t\t\t\t\t: \"\"\r\n\t\t\t\t}`,\r\n\t\t\tmovieId: props.movie.id,\r\n\t\t\tnameRU: props.movie.nameRU,\r\n\t\t\tnameEN: props.movie.nameEN,\r\n\t\t\tisSaved: props.movie.isSaved,\r\n\t\t});\r\n\t// \tif(props.isSaved){\r\n\t// \tsetIsLiked(false)\r\n\t// } else {\r\n\t// \tsetIsLiked(true)\r\n\t// }\r\n}\r\n\r\n\tfunction handleDelete() {\r\n\t\tprops.onDelete(props.movie);\r\n  // setIsLiked(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{location.pathname === '/saved-movies' && (<article className={`card ${props.owner === currentUser._id ? \"\" : \"card_hide\"}`}>\r\n\t\t\t\t<a className=\"card-link\" href={props.trailerLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t{location.pathname === '/movies' && (<img className=\"card__film-image\" alt=\"Фото фильма\" src={`${movieListUrl}${props.image.url}`} />)}\r\n\t\t\t\t\t{location.pathname === '/saved-movies' && (<img className=\"card__film-image\" alt=\"Фото фильма\" src={props.image} />)}\r\n\t\t\t\t</a>\r\n\t\t\t\t<div className=\"card__info\">\r\n\t\t\t\t\t<p className=\"card__name\">{props.nameRU}</p>\r\n\t\t\t\t\t{location.pathname === '/movies' && (<button className={`card__button card__button_save card__button_save${props.isLiked || isLiked ? \"_active\" : \"\"}`} type=\"button\" aria-label=\"сохранить фильм\" onClick={handleLike}></button>)}\r\n\t\t\t\t\t{location.pathname === '/saved-movies' && (<button className=\"card__button card__button_remove\" type=\"button\" aria-label=\"сохранить фильм\" onClick={handleDelete}></button>)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"card__film-duration\">{convertMinutes(props.duration)}</p>\r\n\t\t\t</article>)}\r\n\t\t\t{location.pathname === '/movies' && (<article className=\"card\">\r\n\t\t\t\t<a className=\"card-link\" href={props.trailerLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t{location.pathname === '/movies' && (<img className=\"card__film-image\" alt=\"Фото фильма\" src={`${movieListUrl}${props.image.url}`} />)}\r\n\t\t\t\t\t{location.pathname === '/saved-movies' && (<img className=\"card__film-image\" alt=\"Фото фильма\" src={props.image} />)}\r\n\t\t\t\t</a>\r\n\t\t\t\t<div className=\"card__info\">\r\n\t\t\t\t\t<p className=\"card__name\">{props.nameRU}</p>\r\n\t\t\t\t\t{location.pathname === '/movies' && (<button className={`card__button card__button_save card__button_save${props.isLiked || isLiked ? \"_active\" : \"\"}`} type=\"button\" aria-label=\"сохранить фильм\" onClick={handleLike}></button>)}\r\n\t\t\t\t\t{location.pathname === '/saved-movies' && (<button className=\"card__button card__button_remove\" type=\"button\" aria-label=\"сохранить фильм\" onClick={handleDelete}></button>)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"card__film-duration\">{convertMinutes(props.duration)}</p>\r\n\t\t\t</article>)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default MoviesCard;"],"sourceRoot":""}